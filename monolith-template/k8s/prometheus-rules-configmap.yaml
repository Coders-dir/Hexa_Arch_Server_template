apiVersion: v1
kind: ConfigMap
metadata:
  name: prometheus-rules-config
data:
  prometheus.rules: |-
    groups:
      - name: hexa.rules
        rules:
          - alert: HighErrorRate
            expr: increase(http_requests_total{status=~"5.."}[5m]) > 5
            for: 2m
            labels:
              severity: critical
            annotations:
              summary: "High 5xx error rate detected for hexa-monolith"
              description: "More than 5 server errors in the last 5m."
